{
    "name": "config",
    "log_to_wandb": true,
    "pred_with_cpu": false,
    "train_series_path": "data/raw/train_series.parquet",
    "train_events_path": "data/raw/train_events.csv",
    "test_series_path": "data/raw/test_series.parquet",
    "fe_loc_out": "data/features",
    "fe_loc_in": "data/processed",
    "processed_loc_out": "data/processed",
    "processed_loc_in": "data/raw",
    "model_store_loc": "tm",
    "preprocessing": [
      {
        "kind": "mem_reduce",
        "id_encoding_path": "series_id_encoding.json"
      },
      {
        "kind": "similarity_nan",
        "as_feature": true
      },
      {
        "kind": "add_state_labels",
        "id_encoding_path": "series_id_encoding.json",
        "events_path": "data/raw/train_events.csv",
        "use_similarity_nan": true,
        "fill_limit": 8640,
        "nan_tolerance_window": 5
      },
      {
        "kind": "split_windows",
        "start_hour": 15,
        "window_size": 17280
      },
      {
        "kind": "add_segmentation_labels"
      }
    ],
    "feature_engineering": {},
    "pretraining": {
      "window_size": 17280,
      "test_size": 0.2,
      "downsample": {
        "factor": 12,
        "features": [
          "f_enmo",
          "f_anglez"
        ],
        "methods": [
          "min",
          "max",
          "mean",
          "std",
          "median",
          "var"
        ],
        "standard": "mean"
      },
      "scaler": {
        "kind": "minmax-scaler"
      }
    },
    "models": {
        "SegmentTransformer": {
            "type": "segmentation-transformer",
            "epochs": 100,
            "loss": "bce-torch",
            "optimizer": "adam-torch",
            "lr": 0.00035,
            "tokenizer": "patch",
            "tokenizer_args": {
                "patch_size": 4
            },
            "pe": "other",
            "emb_dim": 64,
            "forward_dim": 246,
            "batch_size": 4,
            "heads": 8,
            "pooling": "none"
        }
    },
    "ensemble": {
        "models": ["SegmentTransformer"],
        "weights": [1],
        "comb_method": "addition"
    },
    "ensemble_loss": "mse-torch",
    "hpo": {
        "apply": false,
        "method": "example_hpo"
    },
    "cv": {
        "apply": false,
        "method": "example_cv"
    },
    "similarity_filter": {
      "threshold": 0.27
    },
    "train_for_submission":true,
    "scoring": true,
    "visualize_preds": {
        "n": 10,
        "browser_plot": true,
        "save": false
    }
}

